## Компоненты
За счёт микросервисной архитектуры, приложение легко масштабируется как вертикально, так и горизонтально. При этом необходимые вычислительные мощности зависят от потребностей организации, в которой разворачивается сервис.

1. Minio S3 - хранилище файлов
2. RabbitMQ - брокер очередей для асинхронного общения между сервисами и отказоустойчивости
3. БД Postgresql с расширением PgVector
4. Модуль транскрибации и диаризации речи. Содержит также определение спикеров среди предварительно добавленных.
5. Модуль обработки текста LLM. Содержит различные способы суммаризации текста и RAG-запросов.
6. Модуль коннекторов канбан досок (по сути прокси). Общий интерфейс для простоты описания worker'а
7. Модуль симилярити для сопоставления саммари текстов и карточек; сравнения эталонных эмбеддингов спикера с распознанными в аудио. 
8. Основиное API сервиса с бизнес-логикой (Customer, который ходит с задачами в workers. Работает напрямую с БД, оркестрируя микросервисы.)
9. Модуль коннекторов пользователей (по сути масштабируемый CLI)

## Бизнес логика

1. Пользователь загружает аудио или переписку (запланированная задача или callback на бота в беседе). Если загружено аудио:
  - запускается пайплайн транскрибации и диаризации
  - на основе сегментов транскрипта и эмбеддингов говорящих и добавленных в БД спикеров с помощью модуля скоринга симилярити определяются говорящие
2. Полилог (из переписки или транскрипта) поступает в сервис обработки текста LLM с добавлением существующих карточ
3. Полученое саммари # TODO дописать...


Пайплайн транскрибации и диаризации:
- Конвертировать формат файлов
- Применить шумоподавление
- Транскрибировать аудио
- Диаризация аудио с возвращением эмбеддингов спикеров